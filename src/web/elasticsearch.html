

<script type="text/x-red" data-template-name="elasticsearch">
    <div class="form-row">
        <label for="node-input-host"><i class="icon-globe"></i> Host</label>
        <input type="text" id="node-input-host" placeholder="localhost" />
    </div>
    <div class="form-row">
        <label for="node-input-port"><i class="icon-random"></i> Port</label>
        <input type="text" id="node-input-port" placeholder="9200" />
    </div>
    <div class="form-row">
        <label for="node-input-index"><i class="icon-book"></i> Index</label>
        <input type="text" id="node-input-index" placeholder="node-red-index" />
    </div>
    <div class="form-row">
        <label for="node-input-documenttype"><i class="icon-book"></i> Type</label>
        <input type="text" id="node-input-documenttype" placeholder="node-red-type" />
    </div>
</script>

<script type="text/x-red" data-help-name="elasticsearch">  
   <p>Inputs : msg</p>
   <p>Outputs : none</p>
   <p>ES result : document will be created with msg fields</p>
   <p>TODO :</p>
   <p> - add an input for index name</p>
   <p> - add an input for document type </p>
   <p> - and an ouput with error if any, doc id, status of ES after operation ... etc</p>
</script>

<script type="text/javascript">
    RED.nodes.registerType('elasticsearch',{
        category: 'output',
        defaults: {
            index: {value:"node-red-index"},
            documenttype: {value:"node-red-type"},
            host: {value:"localhost",required:true},
            port: {value:9200,required:true,validate:RED.validators.number()}
        },
        color:"#C0DEED",
        inputs:1,
        outputs:0,
        icon: "",
        label: function() {
            return this.index||"elasticsearch";
        },
        labelStyle: function() {
            return this.index?"node_label_italic":"";
        },
        oneditprepare: function() {
           
        },
        oneditsave: function() {
        }
    });
</script>
